<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - SmartCoffee</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg-color: #f8f7f5; --primary-text: #3d2c21; --secondary-text: #603813;
            --accent-color: #a67b5b; --border-color: #e0d5cb; --danger: #ef4444; --success: #22c55e;
        }
        body { font-family: 'Montserrat', sans-serif; background-color: var(--bg-color); color: var(--primary-text); }
        h1, h2, h3, h4 { font-family: 'Cormorant Garamond', serif; color: var(--secondary-text); }
        .btn-primary { background-color: var(--secondary-text); color: white; padding: 10px 20px; border-radius: 8px; transition: background-color 0.3s; }
        .btn-primary:hover { background-color: var(--primary-text); }
        .input-field { border: 1px solid var(--border-color); border-radius: 8px; padding: 10px; width: 100%; }
        .card { background-color: white; border-radius: 12px; padding: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .nav-link { display: block; padding: 12px 20px; border-radius: 8px; margin-bottom: 8px; transition: background-color 0.2s, color 0.2s; }
        .nav-link.active { background-color: var(--accent-color); color: white; }
        .nav-link:not(.active):hover { background-color: var(--border-color); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="antialiased">

    <!-- Tela de Login -->
    <div id="login-view" class="flex items-center justify-center min-h-screen p-4">
        <div class="w-full max-w-md card">
            <h1 class="text-4xl text-center mb-6">Acesso Administrativo</h1>
            <form id="login-form">
                <div class="mb-4">
                    <label for="password" class="block mb-2 font-medium">Senha</label>
                    <input type="password" id="password" class="input-field" required>
                </div>
                <button type="submit" class="btn-primary w-full">Entrar</button>
                <p id="login-error" class="text-red-500 text-center mt-4"></p>
            </form>
        </div>
    </div>

    <!-- Painel Principal -->
    <div id="admin-panel" class="hidden">
        <div class="flex min-h-screen">
            <!-- Sidebar de Navegação -->
            <aside class="w-64 bg-white p-4 shadow-lg">
                <h1 class="text-3xl font-bold mb-8">SmartCoffee</h1>
                <nav id="sidebar-nav">
                    <a href="#dashboard" class="nav-link active">Dashboard</a>
                    <a href="#dosages" class="nav-link">Dosagens</a>
                    <a href="#inventory" class="nav-link">Estoque e Custos</a>
                    <a href="#sales" class="nav-link">Vendas</a>
                    <a href="#settings" class="nav-link">Configurações</a>
                </nav>
                <button id="logout-btn" class="mt-auto w-full text-left text-red-600 font-semibold p-4 hover:bg-red-50 rounded-lg">Sair</button>
            </aside>

            <!-- Conteúdo Principal -->
            <main class="flex-1 p-8 overflow-y-auto">
                
                <!-- Dashboard Section -->
                <section id="dashboard-section" class="tab-content active">
                    <h2 class="text-4xl mb-6">Dashboard</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="card text-center">
                            <h3 class="text-xl">Faturamento Bruto</h3>
                            <p id="gross-revenue" class="text-3xl font-bold mt-2">R$ 0,00</p>
                        </div>
                        <div class="card text-center">
                            <h3 class="text-xl">Custos Atuais</h3>
                            <p id="total-costs" class="text-3xl font-bold mt-2 text-red-500">R$ 0,00</p>
                        </div>
                        <div class="card text-center">
                            <h3 class="text-xl">Lucro Líquido</h3>
                            <p id="net-profit" class="text-3xl font-bold mt-2 text-green-600">R$ 0,00</p>
                        </div>
                    </div>
                     <div class="card">
                        <h3 class="text-2xl mb-4">Status do Inventário</h3>
                        <div>
                            <h4>Água</h4>
                            <div class="w-full bg-gray-200 rounded-full h-4"><div id="water-progress" class="bg-blue-500 h-4 rounded-full" style="width: 0%"></div></div>
                            <p id="water-status" class="text-sm mt-1"></p>
                        </div>
                        <div class="mt-4">
                            <h4>Café</h4>
                            <div class="w-full bg-gray-200 rounded-full h-4"><div id="coffee-progress" class="bg-yellow-800 h-4 rounded-full" style="width: 0%"></div></div>
                            <p id="coffee-status" class="text-sm mt-1"></p>
                        </div>
                    </div>
                </section>

                <!-- Dosages Section -->
                <section id="dosages-section" class="tab-content">
                    <h2 class="text-4xl mb-6">Gerenciar Dosagens</h2>
                    <div class="card">
                        <form id="dosages-form">
                            <div id="dosages-list" class="space-y-4"></div>
                            <button type="submit" class="btn-primary mt-6">Salvar Alterações</button>
                        </form>
                    </div>
                </section>

                <!-- Inventory & Costs Section -->
                <section id="inventory-section" class="tab-content">
                    <h2 class="text-4xl mb-6">Estoque e Custos</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="card">
                            <h3 class="text-2xl mb-4">Abastecer Máquina</h3>
                            <form id="refill-form">
                                <div class="mb-4">
                                    <label for="refill-water" class="block mb-2">Água (ml)</label>
                                    <input type="number" id="refill-water" class="input-field" required>
                                </div>
                                <div class="mb-4">
                                    <label for="refill-coffee" class="block mb-2">Café (gramas)</label>
                                    <input type="number" id="refill-coffee" class="input-field" required>
                                </div>
                                <button type="submit" class="btn-primary">Abastecer</button>
                            </form>
                        </div>
                        <div class="card">
                            <h3 class="text-2xl mb-4">Adicionar Custo</h3>
                            <form id="costs-form">
                                <div class="mb-4">
                                    <label for="cost-desc" class="block mb-2">Descrição</label>
                                    <input type="text" id="cost-desc" placeholder="Ex: Pacote de café, Copos" class="input-field" required>
                                </div>
                                <div class="mb-4">
                                    <label for="cost-value" class="block mb-2">Valor (R$)</label>
                                    <input type="number" step="0.01" id="cost-value" class="input-field" required>
                                </div>
                                <div class="mb-4">
                                    <label for="cost-date" class="block mb-2">Data da Compra</label>
                                    <input type="date" id="cost-date" class="input-field" required>
                                </div>
                                <button type="submit" class="btn-primary">Adicionar Custo</button>
                            </form>
                            <h3 class="text-2xl mt-6 mb-4">Custos Atuais (Não Cobertos)</h3>
                            <ul id="costs-list" class="space-y-2"></ul>
                        </div>
                    </div>
                </section>

                <!-- Sales History Section -->
                <section id="sales-section" class="tab-content">
                    <h2 class="text-4xl mb-6">Histórico de Vendas</h2>
                    <div class="card">
                        <div class="flex gap-4 mb-4">
                            <input type="date" id="sales-start-date" class="input-field">
                            <input type="date" id="sales-end-date" class="input-field">
                            <button id="sales-filter-btn" class="btn-primary">Filtrar</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left">
                                <thead>
                                    <tr class="border-b">
                                        <th class="p-2">Data</th>
                                        <th class="p-2">Produto</th>
                                        <th class="p-2">Preço</th>
                                    </tr>
                                </thead>
                                <tbody id="sales-table-body"></tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings-section" class="tab-content">
                    <h2 class="text-4xl mb-6">Configurações da Máquina</h2>
                    <div class="card">
                        <form id="settings-form">
                            <h3 class="text-2xl mb-4">Capacidade Máxima</h3>
                            <div class="mb-4">
                                <label for="max-water" class="block mb-2">Água (ml)</label>
                                <input type="number" id="max-water" class="input-field" required>
                            </div>
                            <div class="mb-4">
                                <label for="max-coffee" class="block mb-2">Café (gramas)</label>
                                <input type="number" id="max-coffee" class="input-field" required>
                            </div>
                             <h3 class="text-2xl mt-6 mb-4">Consumo</h3>
                             <div class="mb-4">
                                <label for="grams-per-ml" class="block mb-2">Gramas de café por ml de bebida</label>
                                <input type="number" step="0.01" id="grams-per-ml" class="input-field" required>
                                <p class="text-xs text-gray-500 mt-1">Ex: 0.2 significa que uma dose de 30ml consome 6g de café.</p>
                            </div>
                            <h3 class="text-2xl mt-6 mb-4">Aparência</h3>
                            <div class="mb-4">
                                <label for="banner-url" class="block mb-2">URL do Banner (Página Inicial)</label>
                                <input type="url" id="banner-url" class="input-field" placeholder="https://..." required>
                            </div>
                            <button type="submit" class="btn-primary mt-4">Salvar Configurações</button>
                        </form>
                    </div>
                </section>
            </main>
        </div>
    </div>
    <script src="admin.js"></script>
</body>
</html>

